@(field: pl.pej.malpompaaligxilo.form.Field[_])
@import pl.pej.malpompaaligxilo.form.field.CheckboxField
@import pl.pej.malpompaaligxilo.form.field.TableCheckBoxField
@import pl.pej.malpompaaligxilo.form.field.TableCheckBoxField
@import pl.pej.malpompaaligxilo.form.field.EmailField
@import pl.pej.malpompaaligxilo.form.field.EmailField
@import pl.pej.malpompaaligxilo.form.field.SelectField
@import pl.pej.malpompaaligxilo.form.field.CalculateField
@import pl.pej.malpompaaligxilo.form.field.DateField
@import pl.pej.malpompaaligxilo.form.field.IntField
@import pl.pej.malpompaaligxilo.form.field.StringField

<div class="form-group">
    <label for="@field.name" class="col-sm-4 control-label">
        <dl>
            <dt>@field.caption("eo") | @field.caption("pl")@if(field.required){<span class="required"> *</span>}@if(field.caption("eo").nonEmpty){:}</dt>
            <dd>@if(field.description.nonEmpty){
                <div class="fieldDesc">@field.description.get.apply("eo") | @field.description.get.apply("pl")</div>
            }</dd>
        </dl>
    </label>
    <div class="col-sm-8">
@{
    field.`type` match {
        case StringField(false) =>
            <input type="text"
                id={field.name}
                class="form-control"
                name={field.name}
                placeholder={field.placeholder.map(p => p("eo") + " | " + p("pl")) orNull}
                />
        case StringField(true) =>
            <textarea
                id={field.name}
                class="form-control"
                name={field.name}
                placeholder={field.placeholder.map(p => p("eo") + " | " + p("pl")) orNull}></textarea>
        case IntField(min, max, step) =>
            <input type="number"
                id={field.name}
                class="form-control"
                name={field.name}
                placeholder={field.placeholder.map(p => p("eo") + " | " + p("pl")) orNull}
                min={min.map(_.toString) orNull}
                max={max.map(_.toString) orNull}
                step={step.map(_.toString) orNull}
            />
        case DateField(minDate, maxDate, yearRange) =>
            <input type="text"
                id={field.name}
                class="form-control formDate"
                name={field.name}
                data-mindate={minDate orNull}
                data-maxdate={maxDate orNull}
                data-yearrange={yearRange orNull}
                placeholder={field.placeholder.map(p => p("eo") + " | " + p("pl")) orNull}
            />
        case CalculateField(formula) =>
            <span class="formExpression" data-name={field.name}></span>
        case SelectField(options, size,_) =>
            <select name={field.name} size={size.toString}>{
            options.map{ option =>
                <option value={option.value}>{option.caption("eo")} | {option.caption("pl")}</option>
            }.toSeq
            }</select>
        case EmailField =>
            <input type="email"
                id={field.name}
            class="form-control" name={field.name} placeholder={field.placeholder.map(p => p("eo") + " | " + p("pl")) orNull} />
        case TableCheckBoxField(rows, cols, disabled, default) if cols.size == 1 =>
            <table data-name={field.name}>{
                rows.map { row =>
                    <tr><td>
                        <label for={row.id}>{row.caption("eo")}</label>
                    </td><td>
                        <input type="checkbox"
                            name={row.id} />
                    </td></tr>
                }
            }</table>
        case CheckboxField(default) =>
            <input type="checkbox"
                id={field.name} name={field.name} checked={if (default) "checked" else null}/>

        case x => Html(s"unrecognized field $x")
    }
}
    </div>
</div>